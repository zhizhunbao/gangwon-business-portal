{
  "name": "services",
  "description": "API Service 文件规范",
  "exampleFile": "services-example.js",

  "naming": {
    "filePattern": "*.service.js",
    "classStyle": "PascalCase",
    "methodStyle": "camelCase",
    "forbidUnderscorePrefix": true
  },

  "required": {
    "imports": ["apiService", "API_PREFIX"],
    "paramValidation": true,
    "emptyStringToNull": true
  },

  "imports": {
    "checkUnused": true,
    "checkExists": true
  },

  "structure": {
    "useClass": true,
    "defaultExport": true,
    "methodPrefixes": ["get", "create", "update", "delete", "fetch", "check", "upload", "download", "list", "send", "request", "approve", "reject", "map"]
  },

  "forbidden": {
    "patterns": ["console.log", "debugger"],
    "directAxios": true,
    "storeImports": true,
    "defaultEmptyReturn": true,
    "multipleFallback": true,
    "optionalFieldDefaults": true,
    "parameterDefaults": true,
    "responseDefaults": true
  },

  "comments": {
    "singleLineOnly": true,
    "forbidInMethodComments": true
  },

  "rules": [
    "使用 class 封装 service",
    "通过 apiService 发起请求，不直接使用 axios",
    "使用 default export 导出实例",
    "禁止使用 _ 前缀的私有方法",
    "禁止返回默认空数据，错误处理在调用方",
    "禁止多重 fallback，后端应返回统一格式",
    "禁止在 service 中导入 store",
    "只允许单行中文注释，禁止 JSDoc",
    "禁止方法内注释",
    "可选字段使用 ?? null，禁止 || '' 或 || []",
    "参数不提供默认值，调用方必须传入所有参数",
    "响应不提供默认值，后端必须提供所有字段",
    "带 params 参数的方法必须有参数校验",
    "发送到后端的数据必须将空字符串转为 null，避免 Pydantic 验证失败"
  ]
}
