# 软件设计原则 (Software Design Principles)

## 概述

本规范定义了项目开发中必须遵循的 7 大设计原则：SOLID (5个) + DRY + KISS。

---

## SOLID 原则

### S - 单一职责原则 (Single Responsibility Principle)

**定义**: 一个类/模块只应该有一个引起它变化的原因。

**检查清单:**
- [ ] 这个类/模块的职责能用一句话描述吗？
- [ ] 修改这个类的原因只有一个吗？
- [ ] 类名是否准确反映了它的唯一职责？

---

### O - 开闭原则 (Open/Closed Principle)

**定义**: 软件实体应该对扩展开放，对修改关闭。

**检查清单:**
- [ ] 新增功能是否需要修改现有代码？
- [ ] 是否使用了接口/抽象类来定义扩展点？
- [ ] 是否使用了策略模式、工厂模式等设计模式？

---

### L - 里氏替换原则 (Liskov Substitution Principle)

**定义**: 子类必须能够替换其父类，且程序行为不变。

**检查清单:**
- [ ] 子类是否完全实现了父类的所有方法？
- [ ] 子类的方法是否抛出父类未声明的异常？
- [ ] 用子类替换父类后，程序是否仍然正确运行？

---

### I - 接口隔离原则 (Interface Segregation Principle)

**定义**: 客户端不应该被迫依赖它不使用的接口。

**检查清单:**
- [ ] 接口是否足够小且专注？
- [ ] 实现类是否需要实现所有接口方法？
- [ ] 是否有"胖接口"需要拆分？

---

### D - 依赖倒置原则 (Dependency Inversion Principle)

**定义**: 高层模块不应该依赖低层模块，两者都应该依赖抽象。

**检查清单:**
- [ ] 高层模块是否依赖接口而非具体实现？
- [ ] 是否使用依赖注入？
- [ ] 更换底层实现时是否需要修改高层代码？

---

## DRY 原则 (Don't Repeat Yourself)

**定义**: 每一个知识点在系统中都应该有一个单一、明确、权威的表示。

**检查清单:**
- [ ] 是否有复制粘贴的代码？
- [ ] 修改一个逻辑是否需要改多处？
- [ ] 常量、配置是否集中管理？

---

## KISS 原则 (Keep It Simple, Stupid)

**定义**: 保持简单，避免不必要的复杂性。

**检查清单:**
- [ ] 这个设计是否是解决问题的最简单方案？
- [ ] 是否过度使用设计模式？
- [ ] 新人能否快速理解这段代码？
- [ ] 是否为了"可能的未来需求"而过度设计？

---

## 原则优先级

当原则冲突时，按以下优先级权衡：

1. **KISS** - 首先保持简单
2. **SRP** - 确保职责单一
3. **DRY** - 消除重复
4. **OCP/DIP** - 考虑扩展性
5. **LSP/ISP** - 优化接口设计

**记住**: 原则是指导，不是教条。根据实际场景灵活应用。

---

## 代码审查检查点

在代码审查时，检查以下问题：

| 原则 | 检查问题 |
|------|---------|
| SRP | 这个类/函数是否只做一件事？ |
| OCP | 新增功能是否需要修改现有代码？ |
| LSP | 子类是否可以安全替换父类？ |
| ISP | 接口是否足够小且专注？ |
| DIP | 是否依赖抽象而非具体实现？ |
| DRY | 是否有重复代码？ |
| KISS | 是否过度设计？ |
