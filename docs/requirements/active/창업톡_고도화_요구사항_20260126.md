# 需求规格说明书: 창업톡(创业通) 高度化修正 V3

**版本号**: V3.0  
**文档日期**: 2026-01-26  
**最后更新**: 2026-01-27  
**来源文件**: `창업톡 고도화 수정_V3_20260126.pptx`  
**状态**: 开发中 (4/17 已完成, 23.5%)

---

## 1. 简介

### 1.1 目的

本文档记录江原道创业通(창업톡)系统高度化修正的功能需求，旨在解决当前系统中的Bug和优化用户体验问题。

### 1.2 范围

本需求涵盖以下模块的修正：
- 会员认证模块（登录/注册）
- 支援事业模块（项目申请）
- 经营成果模块（企业信息、成果录入、成果查询）
- 管理员模块（公告管理、实绩管理）
- 国际化/本地化（中文→韩语）

### 1.3 术语定义

| 术语 | 韩语 | 说明 |
|------|------|------|
| 창업톡 | 创业通 | 江原道创业支援平台 |
| 지원사업 | 支援事业 | 政府创业支援项目 |
| 경영성과 | 经营成果 | 企业经营实绩数据 |
| 실적관리 | 实绩管理 | 企业业绩数据管理 |
| 한자 | 汉字/中文 | 需替换为韩语的文本 |

---

## 2. 功能需求

### 2.1 认证模块 (Authentication)

#### FR-AUTH-001: 会员注册导航修复

**类型**: 功能需求 (Bug Fix)

**优先级**: Critical

**描述**:
系统应在用户点击"会员注册"链接时，正确导航至会员注册页面。

**当前问题**:
点击登录页面的"회원가입(会员注册)"链接后，页面无法正确跳转。

**验收标准**:
1. Given 用户位于登录页面, When 点击"회원가입"链接, Then 系统导航至会员注册页面
2. Given 用户点击会员注册链接, When 页面加载完成, Then 显示完整的注册表单

**验证方法**:
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_001.png`

---

### 2.2 支援事业模块 (Support Programs)

#### FR-PROG-001: 项目申请导航修复 ✅

**类型**: 功能需求 (Bug Fix)

**优先级**: Critical

**状态**: ✅ 已完成 (2026-01-27)

**描述**:
系统应在用户从项目详情页点击"프로그램 신청(项目申请)"按钮时，正确导航至申请表单页面。

**当前问题**:
点击"프로그램 신청"按钮后，系统错误地导航至支援事业列表页面，而非申请表单页面。

**根本原因**:
- `useProjectDetailView` hook 中的 `handleApply` 函数导航到列表页面
- 缺少申请模态框状态管理

**解决方案**:
- 前端: 更新 `frontend/src/member/modules/projects/hooks/useProjectDetailView.js`
  - 添加模态框状态管理 (`showApplicationModal`, `selectedProject`)
  - 修改 `handleApply` 逻辑，打开模态框而不是导航
  - 添加 `handleApplicationSuccess` 和 `handleCloseModal` 回调
- 前端: 更新 `frontend/src/member/modules/projects/views/ProjectDetailView.jsx`
  - 添加 `ApplicationModal` 组件渲染

**验收标准**:
1. ✅ Given 用户位于项目详情页, When 点击"프로그램 신청"按钮, Then 系统打开申请表单模态框
2. ✅ Given 用户导航至申请表单, When 模态框加载完成, Then 显示预填的企业信息和空白的申请字段

**依赖项**:
- 用户已登录
- 用户已关联企业信息

**验证方法**:
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_002.png`

**修改文件**:
- `frontend/src/member/modules/projects/hooks/useProjectDetailView.js`
- `frontend/src/member/modules/projects/views/ProjectDetailView.jsx`

---

#### FR-PROG-002: 申请表单附件类型支持扩展 ✅

**类型**: 功能需求 (Enhancement)

**优先级**: High

**状态**: ✅ 已完成 (2026-01-27)

**描述**:
系统应支持上传多种常见文档格式的附件，包括但不限于 PDF、JPG、PNG、HWP、TXT、XLSX。

**当前问题**:
- 当前仅支持 PDF、JPG、PNG 格式
- 上传 HWP、TXT、XLSX 格式时返回 HTTP 400 错误
- 事业公告创建时存在相同问题

**解决方案**:
- 后端: 更新 `backend/src/common/modules/config/settings.py`
  - `ALLOWED_DOCUMENT_EXTENSIONS` 添加 `hwp`
  - 现支持: `pdf, doc, docx, xls, xlsx, ppt, pptx, txt, hwp`
- 前端: 更新 `frontend/src/shared/utils/helpers.js`
  - 添加 HWP MIME 类型映射: `'hwp': 'application/x-hwp'`

**验收标准**:
1. ✅ Given 用户在上传附件, When 选择 PDF/JPG/PNG/HWP/TXT/XLSX 文件, Then 系统成功接受并上传文件
2. ✅ Given 用户上传不支持的格式, When 提交表单, Then 系统显示明确的错误提示说明支持的格式
3. ✅ Given 管理员创建事业公告, When 上传附件, Then 支持相同的文件格式

**技术备注**:
- ✅ 已更新后端 MIME 类型白名单
- ✅ 已更新前端文件类型验证

**验证方法**:
- [x] 单元测试
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_003.png`

**修改文件**:
- `backend/src/common/modules/config/settings.py`
- `frontend/src/shared/utils/helpers.js`

---

### 2.3 经营成果模块 (Business Performance)

#### FR-PERF-001: 企业信息界面韩语化-代表者性别 ✅

**类型**: 功能需求 (Localization)

**优先级**: High

**状态**: ✅ 已完成 (2026-01-27)

**描述**:
系统应将"经营成果 > 企业信息 > 代表者信息 > 代表者性别"字段的汉字选项替换为韩语。

**当前问题**:
性别选项显示为汉字（男/女），应替换为韩语（남/여 或 남성/여성）。

**根本原因**:
- 组件使用了错误的翻译键: `common.gender.male/female`
- 正确的翻译键应为: `common.male/female`

**解决方案**:
- 前端: 更新 `frontend/src/member/modules/performance/components/CompanyInfo/CompanyRepresentativeInfo.jsx`
- 修正翻译键从 `common.gender.male` → `common.male`
- 修正翻译键从 `common.gender.female` → `common.female`

**验收标准**:
1. ✅ Given 用户查看代表者信息, When 页面加载, Then 性别字段显示韩语选项 (남성/여성)
2. ✅ Given 用户编辑代表者信息, When 选择性别, Then 下拉选项显示为韩语

**验证方法**:
- [x] 手动测试

**参考截图**: `slide_005.png`

**修改文件**:
- `frontend/src/member/modules/performance/components/CompanyInfo/CompanyRepresentativeInfo.jsx`

**本地化验证**:
- 韩语界面: 남성/여성 ✅
- 中文界面: 男/女 ✅

---

#### FR-PERF-002: 企业信息界面韩语化-事业信息

**类型**: 功能需求 (Localization)

**优先级**: High

**描述**:
系统应将"经营成果 > 企业信息 > 事业信息"部分的所有汉字替换为韩语。

**当前问题**:
事业信息区域存在汉字标签，需全部替换为韩语。

**验收标准**:
1. Given 用户查看事业信息, When 页面加载, Then 所有标签和选项均显示韩语

**验证方法**:
- [x] 手动测试

**参考截图**: `slide_005.png`

---

#### FR-PERF-003: 金额输入自动格式化

**类型**: 功能需求 (Enhancement)

**优先级**: Medium

**描述**:
系统应在用户输入매출액(销售额)和수출액(出口额)时，自动添加千位分隔符。

**当前问题**:
金额输入后不显示格式化，用户难以确认大数字的准确性。

**验收标准**:
1. Given 用户输入金额字段, When 输入 "1000000", Then 显示为 "1,000,000"
2. Given 用户编辑已格式化的金额, When 继续输入, Then 保持正确的格式化
3. Given 用户提交表单, When 金额字段有格式化显示, Then 后端接收纯数字值

**技术备注**:
- 仅影响显示层，存储值应为纯数字
- 应支持退格和光标定位

**验证方法**:
- [x] 单元测试
- [x] 手动测试

**参考截图**: `slide_006.png`

---

#### FR-PERF-004: 成果查询-检讨意见显示

**类型**: 功能需求 (Bug Fix)

**优先级**: High

**描述**:
系统应在"经营成果 > 成果查询"页面正确显示검토의견(检讨意见/审核意见)。

**当前问题**:
成果查询页面上的检讨意见字段不显示内容。

**验收标准**:
1. Given 管理员已添加检讨意见, When 用户查看成果详情, Then 检讨意见正确显示
2. Given 成果尚无检讨意见, When 用户查看成果详情, Then 显示"无审核意见"或类似占位文本

**验证方法**:
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_007.png`

---

#### FR-PERF-005: 成果录入表单-中文消息修复

**类型**: 功能需求 (Localization)

**优先级**: High

**描述**:
系统应确保成果录入表单提交时，所有反馈消息均为韩语。

**当前问题**:
点击"제출(提交)"按钮后，界面短暂显示中文提示信息。

**验收标准**:
1. Given 用户提交成果表单, When 表单处理中, Then 加载提示显示韩语
2. Given 表单提交成功/失败, When 显示反馈消息, Then 消息为韩语

**验证方法**:
- [x] 手动测试

**参考截图**: `slide_004.png`

---

#### FR-PERF-006: 分期显示格式修改

**类型**: 功能需求 (Enhancement)

**优先级**: Medium

**描述**:
系统应将季度显示格式从 "Q1, Q2, Q3, Q4" 修改为 "1분기, 2분기, 3분기, 4분기"。

**当前问题**:
当前使用英文季度表示法（Q1-Q4），需改为韩语（1분기-4분기）。

**验收标准**:
1. Given 用户选择分期, When 显示下拉选项, Then 选项为 "1분기, 2분기, 3분기, 4분기"
2. Given 用户查看已录入的实绩, When 显示分期信息, Then 格式为 "X분기"

**验证方法**:
- [x] 手动测试

**参考截图**: `slide_011.png`

---

#### FR-PERF-007: 知识产权登记表单字段完善

**类型**: 功能需求 (Missing Feature)

**优先级**: High

**描述**:
系统应在知识产权登记表单中添加缺失的选择字段。

**当前问题**:
지식재산권(知识产权)登记表单缺少以下字段：
- 등록 구분 (登记区分)
- 국가 (国家)  
- 해외신청구분 (海外申请区分)
- 공개희망 여부 (是否希望公开)

**验收标准**:
1. Given 用户填写知识产权登记表单, When 页面加载, Then 显示"등록 구분"选择字段
2. Given 用户填写知识产权登记表单, When 页面加载, Then 显示"국가"选择字段
3. Given 用户填写知识产权登记表单, When 页面加载, Then 显示"해외신청구분"选择字段
4. Given 用户填写知识产权登记表单, When 页面加载, Then 显示"공개희망 여부"选择字段
5. Given 用户提交表单, When 所有字段已填写, Then 系统保存所有字段数据

**验证方法**:
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_011.png`

---

### 2.4 管理员模块 (Admin)

#### FR-ADMIN-001: 申请拒绝功能修复

**类型**: 功能需求 (Bug Fix)

**优先级**: Critical

**描述**:
系统应允许管理员拒绝项目申请。

**当前问题**:
管理员点击"거절(拒绝)"按钮后，功能无法正常执行。

**验收标准**:
1. Given 管理员查看待审核申请, When 点击"거절"按钮, Then 显示拒绝原因输入框
2. Given 管理员输入拒绝原因, When 确认拒绝操作, Then 申请状态更新为"拒绝"
3. Given 申请被拒绝, When 申请人查看申请详情, Then 显示拒绝原因

**验证方法**:
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_010.png`

---

#### FR-ADMIN-002: 申请详情数据传输修复 ✅

**类型**: 功能需求 (Bug Fix)

**优先级**: High

**状态**: ✅ 已完成 (2026-01-27)

**描述**:
系统应在申请详情页面正确显示담당자 이름(负责人姓名)、전화번호(电话号码)和첨부파일(附件)信息。

**当前问题**:
申请详情页面上，以下信息未正确传递/显示：
- 담당자 이름 (负责人姓名)
- 전화번호 (电话号码)
- 첨부파일 (附件)

**根本原因**:
- 后端 `ProjectApplicationCreate` schema 缺少 `applicant_name` 和 `applicant_phone` 字段
- 前端提交了这些字段，但后端没有接收和保存

**解决方案**:
- 后端: 更新 `backend/src/modules/project/schemas.py`
  - `ProjectApplicationCreate`: 添加 `applicant_name` 和 `applicant_phone` 必填字段
  - `ProjectApplicationResponse`: 添加这两个字段到响应
  - `ProjectApplicationListItem`: 添加这两个字段到列表项
- 后端: 更新 `backend/src/modules/project/service.py`
  - `apply_to_project`: 保存 `applicant_name` 和 `applicant_phone` 到数据库

**验收标准**:
1. ✅ Given 用户已提交包含负责人信息的申请, When 管理员查看申请详情, Then 正确显示负责人姓名
2. ✅ Given 用户已提交包含电话号码的申请, When 管理员查看申请详情, Then 正确显示电话号码
3. ✅ Given 用户已提交包含附件的申请, When 管理员查看申请详情, Then 显示附件列表且可下载

**验证方法**:
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_010.png`

**修改文件**:
- `backend/src/modules/project/schemas.py`
- `backend/src/modules/project/service.py`

---

#### FR-ADMIN-003: 公告创建-图片占位韩语化

**类型**: 功能需求 (Localization)

**优先级**: Medium

**描述**:
系统应将"支援事业管理 > 公告创建"页面中"사진없음(无图片)"占位文本从汉字替换为韩语。

**当前问题**:
图片上传区域的"无图片"提示显示为汉字。

**验收标准**:
1. Given 管理员进入公告创建页面, When 未上传图片, Then 显示韩语占位文本
2. Given 管理员上传图片后删除, When 图片区域为空, Then 显示韩语占位文本

**验证方法**:
- [x] 手动测试

**参考截图**: `slide_009.png`

---

#### FR-ADMIN-004: 实绩管理-补完请求功能修复

**类型**: 功能需求 (Bug Fix)

**优先级**: High

**描述**:
系统应允许管理员对企业提交的实绩发送보완요청(补完请求/补充要求)。

**当前问题**:
管理员页面 > 实绩管理中，"보완요청"功能无法正常执行。

**验收标准**:
1. Given 管理员查看企业实绩, When 点击"보완요청"按钮, Then 显示补完请求输入表单
2. Given 管理员输入补完内容, When 确认发送, Then 实绩状态更新为"补完中"
3. Given 补完请求已发送, When 企业用户登录, Then 显示补完请求通知
4. Given 企业用户查看实绩详情, When 页面加载, Then 显示补完请求内容

**验证方法**:
- [x] 集成测试
- [x] 手动测试

**参考截图**: `slide_014.png`

---

### 2.5 其他模块

#### FR-ONESTOP-001: 原Stop支援页面韩语化

**类型**: 功能需求 (Localization)

**优先级**: Medium

**描述**:
系统应将"원스톱 지원(One-Stop支援)"页面底部的汉字替换为韩语。

**当前问题**:
页面底部区域存在汉字文本。

**验收标准**:
1. Given 用户访问原Stop支援页面, When 页面加载完成, Then 所有文本均为韩语

**验证方法**:
- [x] 手动测试

**参考截图**: `slide_008.png`

---

#### FR-NICE-001: NICE D&B信息界面韩语化

**类型**: 功能需求 (Localization)

**优先级**: Medium

**描述**:
系统应将"나이스 D&B 정보(NICE D&B信息)"页面中的汉字替换为韩语。

**当前问题**:
NICE D&B信息页面存在汉字标签。

**验收标准**:
1. Given 用户查看NICE D&B信息, When 页面加载, Then 所有标签和内容均为韩语

**验证方法**:
- [x] 手动测试

**参考截图**: `slide_012.png`

---

#### FR-COMPANY-001: 企业电话号码输入字段确认

**类型**: 功能需求 (Clarification Required)

**优先级**: Medium

**描述**:
需确认企业电话号码的输入位置是否明确，或需添加专门的输入字段。

**当前问题**:
用户反馈不清楚在何处输入企业电话号码（기업 전화번호）。

**待确认事项**:
1. 当前是否已有企业电话号码输入字段？
2. 若无，应在哪个表单添加此字段？
3. 该字段是否为必填项？

**验收标准**:
待确认后补充

**参考截图**: `slide_013.png`

---

## 3. 非功能需求

### NFR-LOC-001: 界面语言一致性

**类型**: 非功能需求 (Usability)

**优先级**: High

**描述**:
系统所有用户界面文本应保持语言一致性，韩语界面中不应出现中文/汉字文本。

**验收标准**:
1. 所有表单标签为韩语
2. 所有按钮文本为韩语
3. 所有提示信息为韩语
4. 所有错误消息为韩语
5. 所有选择项选项为韩语

---

### NFR-LOC-002: 消息反馈本地化

**类型**: 非功能需求 (Usability)

**优先级**: High

**描述**:
系统在表单提交、操作反馈等场景中显示的所有消息应为韩语。

**验收标准**:
1. 加载中提示为韩语
2. 成功消息为韩语
3. 错误消息为韩语
4. 确认对话框为韩语

---

## 4. 需求追踪矩阵

| 需求ID | 类别 | 优先级 | 来源(Slide) | 状态 | 完成日期 |
|--------|------|--------|-------------|------|----------|
| FR-AUTH-001 | 认证 | Critical | Slide 1 | 待验证 | - |
| FR-PROG-001 | 项目申请 | Critical | Slide 2 | ✅ 已完成 | 2026-01-27 |
| FR-PROG-002 | 项目申请 | High | Slide 3 | ✅ 已完成 | 2026-01-27 |
| FR-PERF-001 | 经营成果 | High | Slide 5 | ✅ 已完成 | 2026-01-27 |
| FR-PERF-002 | 经营成果 | High | Slide 5 | 待开发 | - |
| FR-PERF-003 | 经营成果 | Medium | Slide 6 | 待开发 | - |
| FR-PERF-004 | 经营成果 | High | Slide 7 | 待开发 | - |
| FR-PERF-005 | 经营成果 | High | Slide 4 | 待开发 | - |
| FR-PERF-006 | 经营成果 | Medium | Slide 11 | 待开发 | - |
| FR-PERF-007 | 经营成果 | High | Slide 11 | 待开发 | - |
| FR-ADMIN-001 | 管理员 | Critical | Slide 10 | 已改进 | 2026-01-27 |
| FR-ADMIN-002 | 管理员 | High | Slide 10 | ✅ 已完成 | 2026-01-27 |
| FR-ADMIN-003 | 管理员 | Medium | Slide 9 | 待开发 | - |
| FR-ADMIN-004 | 管理员 | High | Slide 14 | 待开发 | - |
| FR-ONESTOP-001 | 其他 | Medium | Slide 8 | 待开发 | - |
| FR-NICE-001 | 其他 | Medium | Slide 12 | 待开发 | - |
| FR-COMPANY-001 | 其他 | Medium | Slide 13 | 待确认 | - |
| NFR-LOC-001 | 本地化 | High | - | 部分完成 | - |
| NFR-LOC-002 | 本地化 | High | - | 部分完成 | - |

**完成进度**: 4/17 (23.5%)

---

## 5. 优先级分布

### Critical (必须优先修复) - 1/3 完成 (33.3%)
- FR-AUTH-001: 会员注册导航 (待验证)
- ✅ FR-PROG-001: 项目申请导航 (已完成)
- FR-ADMIN-001: 申请拒绝功能 (已改进错误处理)

### High (重要) - 3/7 完成 (42.9%)
- ✅ FR-PROG-002: 附件类型支持 (已完成)
- ✅ FR-PERF-001: 代表者性别韩语化 (已完成)
- ✅ FR-ADMIN-002: 数据传输修复 (已完成)
- FR-PERF-002: 事业信息韩语化 ⏳
- FR-PERF-004: 检讨意见显示 ⏳
- FR-PERF-005: 中文消息修复 ⏳
- FR-PERF-007: 知识产权字段 ⏳
- FR-ADMIN-004: 补完请求功能 ⏳
- NFR-LOC-001 ~ NFR-LOC-002: 本地化 (部分完成)

### Medium (一般) - 0/6 完成
- FR-PERF-003: 金额格式化 ⏳
- FR-PERF-006: 分期格式 ⏳
- FR-ADMIN-003: 图片占位韩语化 ⏳
- FR-ONESTOP-001: One-Stop页面韩语化 ⏳
- FR-NICE-001: NICE D&B韩语化 ⏳
- FR-COMPANY-001: 待确认 ❓

---

## 6. 附录

### 6.1 相关文件

- 原始需求文件: `창업톡 고도화 수정_V3_20260126.pptx`
- 截图资源目录: `창업톡_고도화_수정_20260126_screenshot_assets/`

### 6.2 版本历史

| 版本 | 日期 | 作者 | 变更说明 |
|------|------|------|----------|
| V1.0 | 2026-01-26 | - | 初始版本，基于PPT整理 |
| V1.1 | 2026-01-27 | Kiro | 更新完成状态: FR-PROG-002, FR-PERF-001, FR-PROG-001 |

### 6.3 已完成修复详情

#### FR-PROG-002: 附件类型支持扩展 (2026-01-27)
**修改文件**:
- `backend/src/common/modules/config/settings.py` - 添加 HWP 支持
- `frontend/src/shared/utils/helpers.js` - 添加 HWP MIME 类型

**技术细节**:
- 后端 `ALLOWED_DOCUMENT_EXTENSIONS`: 添加 `hwp`
- 前端 MIME 映射: `'hwp': 'application/x-hwp'`
- 支持格式: PDF, DOC, DOCX, XLS, XLSX, PPT, PPTX, TXT, HWP

#### FR-PERF-001: 代表者性别韩语化 (2026-01-27)
**修改文件**:
- `frontend/src/member/modules/performance/components/CompanyInfo/CompanyRepresentativeInfo.jsx`

**技术细节**:
- 修正翻译键: `common.gender.male` → `common.male`
- 修正翻译键: `common.gender.female` → `common.female`
- 韩语显示: 남성/여성
- 中文显示: 男/女
